{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/MimeType.ts","webpack:///./src/PhotoData.ts","webpack:///./src/PhotoMode.ts","webpack:///./src/SlideShowDomCreate.ts","webpack:///./src/SlideShowFileReader.ts","webpack:///./src/SlideShowManager.ts","webpack:///./src/SlideShowPhotoChange.ts","webpack:///./src/SlideShowPlayButton.ts","webpack:///./src/SlideShowToggleMenu.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"SlideShow.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/main.ts\");\n","/**\r\n * MINEタイプクラスです。\r\n * 許容するMINEタイプを設定します。\r\n */\r\nexport class MimeType {\r\n    /** JPEG */\r\n    public static TYPE_JPG = \"image/jpeg\";\r\n    /** PNG */\r\n    public static TYPE_PNG = \"image/png\";\r\n    /** BMP */\r\n    public static TYPE_BMP = \"image/bmp\";\r\n    /** GIF */\r\n    public static TYPE_GIF = \"image/gif\";\r\n\r\n    /**\r\n     * MINEタイプチェック処理です。\r\n     * @param type MINEタイプ\r\n     * @return boolean 可:true,不可:false\r\n     */\r\n    public static isAvailable(type : string) : boolean {\r\n        switch (type) {\r\n            case this.TYPE_JPG:\r\n            case this.TYPE_PNG:\r\n            case this.TYPE_BMP:\r\n            case this.TYPE_GIF:\r\n                return true;\r\n            default:\r\n                break;\r\n        }\r\n        return false;\r\n    }\r\n}","/**\r\n * 画像データクラスです。\r\n * 画像の情報を保持します。\r\n */\r\nexport class PhotoData {\r\n    /** 画像の横幅 */\r\n    private _xSize : number;\r\n    /** 画像の縦幅 */\r\n    private _ySize : number;\r\n    /** 画像の名前 */\r\n    private _fileName: string;\r\n    /** 画像のURL */\r\n    private _filePath: string;\r\n\r\n    /**\r\n     * コンストラクターです。\r\n     * @param file 画像ファイルオブジェクト\r\n     * @param url 画像ファイルのURL\r\n     */\r\n    constructor(file : File, url : any) {\r\n        this._xSize = 0;\r\n        this._ySize = 0;\r\n        // Imageを使うことで画像の詳細な情報が取得できます。\r\n        const img = new Image();\r\n        img.src = url;\r\n        // 読み込んだら処理する。\r\n        img.onload = () => {\r\n            this._xSize = img.width;\r\n            this._ySize = img.height;\r\n        }\r\n        this._fileName = file.name;\r\n        this._filePath = url;\r\n    }\r\n\r\n    /*\r\n     * 一応用意したGeterSeter\r\n    */\r\n    set xSize(size: number) {\r\n        this._xSize = size;\r\n    }\r\n    get xSize(): number {\r\n        return this._xSize;\r\n    }\r\n\r\n    set ySize(size: number) {\r\n        this._ySize = size;\r\n    }\r\n    get ySize(): number {\r\n        return this._ySize;\r\n    }\r\n\r\n    set filePath(path: string) {\r\n        this._filePath = path;\r\n    }\r\n    get filePath(): string {\r\n        return this._filePath;\r\n    }\r\n\r\n    set fileName(name: string) {\r\n        this._fileName = name;\r\n    }\r\n    get fileName(): string {\r\n        return this._fileName;\r\n    }\r\n}","/**\r\n * 画像表示モードの列挙型です。\r\n */\r\nexport enum PhotoMode {\r\n    NORMAL,\r\n    ZOOMOUT,\r\n    SLIDEIN\r\n}","/**\r\n * トグルメニュー作成クラスです。\r\n */\r\nexport class SlideShowDomCreate {\r\n\r\n    /**\r\n     * コンストラクターです。\r\n     */\r\n    constructor() {\r\n        this.createDom();\r\n    }\r\n\r\n    /**\r\n     * DOMを作成する。\r\n     */\r\n    private createDom(): void {\r\n        const element = $(\"#slideshow-wrap\")[0];\r\n        if (!element) {\r\n            // スライドショー表示エリア作成\r\n            const slideshowWrap = $(\"<div></div>\");\r\n            slideshowWrap.attr({ id: \"slideshow-wrap\", class: \"background-image\" });\r\n\r\n            // ファイル管理エリア\r\n            const fileArea = $(\"<div></div>\");\r\n            fileArea.attr({ id: \"file-area\" });\r\n            // ファイルダイアログエリア\r\n            const fileAreaItem1 = $(\"<div></div>\");\r\n            fileAreaItem1.attr({ class: \"file-area-item\" });\r\n            const fileDialog = $(\"<input webkitdirectory multiple />\");\r\n            fileDialog.attr({\r\n                id: \"file\",\r\n                type: \"file\",\r\n                title: \"読み込んだファイルは、サーバーにアップロードされません。\",\r\n            });\r\n            fileAreaItem1.append(fileDialog);\r\n            fileArea.append(fileAreaItem1);\r\n            // 再生ボタン＆プログレスバーエリア\r\n            const fileAreaItem2 = $(\"<div></div>\");\r\n            fileAreaItem2.attr({ class: \"file-area-item\" });\r\n            const playButton = $(\"<button></button>\");\r\n            playButton.attr({ id: \"play\", title: \"再生ボタン\" });\r\n            const buttonIcon = $(\"<span></span>\");\r\n            buttonIcon.attr({ class: \"ui-icon ui-icon-play\" });\r\n            playButton.append(buttonIcon);\r\n            fileAreaItem2.append(playButton);\r\n            const progress = $(\"<progress></progress>\");\r\n            progress.attr({ id: \"meter\", max: \"100\", value: \"0\" });\r\n            fileAreaItem2.append(progress);\r\n            fileArea.append(fileAreaItem2);\r\n            // プログレスバー用メッセージ\r\n            const fileAreaItem3 = $(\"<div></div>\");\r\n            fileAreaItem3.attr({ class: \"file-area-item\" });\r\n            const meterText = $(\"<label></label>\");\r\n            meterText.attr({ id: \"meter-text\", for: \"meter\" });\r\n            fileAreaItem3.append(meterText);\r\n            fileArea.append(fileAreaItem3);\r\n            // 間仕切り用\r\n            const hr = $(\"<hr>\");\r\n            hr.attr({ class: \"line\" });\r\n            fileArea.append(hr);\r\n            slideshowWrap.append(fileArea);\r\n\r\n            // 設定エリア\r\n            const settingArea = $(\"<div></div>\");\r\n            settingArea.attr({ class: \"setting-area\" });\r\n            const settingButton = $(\"<button></button>\");\r\n            settingButton.attr({ id: \"setting\", title: \"設定ボタン\" });\r\n            const settingButtonIcon = $(\"<span></span>\");\r\n            settingButtonIcon.attr({ class: \"ui-icon ui-icon-gear\" });\r\n            settingButton.append(settingButtonIcon);\r\n            settingArea.append(settingButton);\r\n            slideshowWrap.append(settingArea);\r\n\r\n            // 表示管理エリア\r\n            const displayArea = $(\"<div></div>\");\r\n            displayArea.attr({ id: \"display-area\" });\r\n            const explanationText = $(\"<div></div>\");\r\n            explanationText.attr({ class: \"explanation\" });\r\n            explanationText.html(\"&lt;説明&gt;<br />\"\r\n                + \"画像ファイルをスライドショーの様に順番に表示するアプリケーションです。<br />\"\r\n                + \"右上の設定ボタンから表示方法、表示時間の変更ができます。<br />\"\r\n                + \"読み込んだファイルは、サーバーにアップロードされません。<br />\"\r\n                + \"スマートフォンからもご利用頂けます。<br />\"\r\n                + \"<br />\"\r\n                + \"&lt;explanation&gt;<br />\"\r\n                + \"It is an application that displays image files in order like a slide show.<br />\"\r\n                + \"You can change the display method and display time from the setting button in the upper right.<br />\"\r\n                + \"The loaded file is not uploaded to the server.<br />\"\r\n                + \"It can also be used from a smartphone.<br />\");\r\n            displayArea.append(explanationText);\r\n            const leftButtonDiv = $(\"<div></div>\");\r\n            leftButtonDiv.attr({ id: \"left-side\", class: \"hidden-area\" });\r\n            const leftButton = $(\"<div></div>\");\r\n            leftButton.attr({ id: \"left-button\", class: \"change-button button-left\" });\r\n            leftButtonDiv.append(leftButton);\r\n            displayArea.append(leftButtonDiv);\r\n            const rightButtonDiv = $(\"<div></div>\");\r\n            rightButtonDiv.attr({ id: \"right-side\", class: \"hidden-area\" });\r\n            const rightButton = $(\"<div></div>\");\r\n            rightButton.attr({ id: \"right-button\", class: \"change-button button-right\" });\r\n            rightButtonDiv.append(rightButton);\r\n            displayArea.append(rightButtonDiv);\r\n            // 画像表示エリア\r\n            const photoArea = $(\"<div></div>\");\r\n            photoArea.attr({ id: \"photo-area\" });\r\n            displayArea.append(photoArea);\r\n            slideshowWrap.append(displayArea);\r\n            $('body').append(slideshowWrap);\r\n        }\r\n    }\r\n}","import { MimeType } from \"./MimeType\";\r\nimport { PhotoData } from \"./PhotoData\";\r\nimport { SlideShowManager } from \"./SlideShowManager\";\r\n\r\n/**\r\n * ファイル読み込み機能クラスです。\r\n * 画像ファイルだけを取り出して、後続処理で使いやすいように整理しています。\r\n * 非同期処理なのでこのクラスからスライドショー管理クラスを呼び出しています。\r\n */\r\nexport class SlideShowFileReader {\r\n\r\n    /** スライドショー管理クラス */\r\n    private slideShowManager: SlideShowManager | null;\r\n    /** ファイルダイアログの要素 */\r\n    private fileElement: HTMLElement;\r\n    /** 画像表示エリアの要素 */\r\n    private photoAreaElement: HTMLElement;\r\n    /** 画像データの配列 */\r\n    private photoArray: Array<PhotoData>;\r\n\r\n    /**\r\n     * コンストラクターです。\r\n     * @param file ファイルダイアログの要素\r\n     * @param photo 画像表示エリアの要素\r\n     */\r\n    constructor(file: HTMLElement, photo: HTMLElement) {\r\n        // メンバ変数の初期化をします。\r\n        this.slideShowManager = null;\r\n        this.fileElement = file;\r\n        this.photoAreaElement = photo;\r\n        this.photoArray = new Array<PhotoData>();\r\n        this._addEventListener();\r\n    }\r\n\r\n    /**\r\n     * イベントの登録処理です。\r\n     */\r\n    private _addEventListener(): void {\r\n        // ファイルダイアログ部品に変更があった場合にファイルを読み込みます。\r\n        $(this.fileElement).on('change', async (ev) => {\r\n            // ファイルを読み込みます。\r\n            await this.readFiles(ev);\r\n            // 全ファイルの処理が終わったらスライドショーを実行します。\r\n            this.slideShowManager = new SlideShowManager(this.photoAreaElement, this.photoArray);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * ファイル読み込み処理です。\r\n     * ファイルダイアログで取得できたファイルを画像ファイルだけPhotoDataとして保持します。\r\n     * @param ev changeイベント\r\n     */\r\n    private async readFiles(ev: JQuery.ChangeEvent): Promise<void> {\r\n        if (this.slideShowManager != null) {\r\n            // ファイル読み込みが行なわれた際、前回のオブジェクトからイベントリスナーを破棄します。\r\n            this.slideShowManager.destructor();\r\n        }\r\n        // 画像データを初期化します。Arrayは配列でジェネリクスを使って型を指定します。\r\n        this.photoArray = new Array<PhotoData>();\r\n        // プログレスバーの要素を取得します。\r\n        const meter = $(\"#meter\");\r\n        const meterText = $(\"#meter-text\");\r\n        const fileMax = ev.target.files.length;\r\n        let fileCount = 0;\r\n        // ファイルダイアログから取得できた分だけ処理をループします。\r\n        // HTMLElementのeventからev.target.filesでファイルを読み取れます。\r\n        for (let i = 0; i < ev.target.files.length; i++) {\r\n            const file = ev.target.files[i];\r\n            if (!MimeType.isAvailable(file.type)) {\r\n                // 欲しいのは画像なのでMimeTypeで指定しているMINEタイプのみ処理します。\r\n                console.log(\"Error:\" + file.name + \" is \" + file.type ? file.type : 'not found');\r\n                // fileCountを加算します。\r\n                fileCount++;\r\n                continue;\r\n            }\r\n            // FileReaderを使います。\r\n            const fileReader = new FileReader();\r\n            // readAsDataURLを使うとresultで画像のURLが取得できます。\r\n            fileReader.readAsDataURL(file);\r\n            // FileReaderの読み込みを待って処理します。\r\n            fileReader.onload = async () => {\r\n                const url = fileReader.result;\r\n                // 画像データを保持するオブジェクトを作成します。\r\n                const photo = new PhotoData(file, url);\r\n                // 画像データの配列に追加します。\r\n                this.photoArray.push(photo);\r\n                // 画像データを名前順にソートします。\r\n                this.fileSort(this.photoArray);\r\n                // fileCountを加算します。\r\n                fileCount++;\r\n                // プログレスバーに値を設定します。\r\n                meter.val(fileCount / fileMax * 100);\r\n                meterText.text(`${fileCount} / ${fileMax} Complete`);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 画像データのソートを行ないまいます。\r\n     * @param array 画像データの配列\r\n     */\r\n    private fileSort(array: PhotoData[]): void {\r\n        array.sort(this.compareName);\r\n    }\r\n\r\n    /**\r\n     * 名前順で画像データの並び替えを行ないます。\r\n     * @param a 比較するデータ１\r\n     * @param b 比較するデータ２\r\n     */\r\n    private compareName(a: PhotoData, b: PhotoData): number {\r\n        if (a.fileName > b.fileName) {\r\n            return 1;\r\n        } else {\r\n            return -1;\r\n        }\r\n    }\r\n}","import { PhotoData } from \"./PhotoData\";\r\nimport { PhotoMode } from \"./PhotoMode\";\r\nimport { SlideShowToggleMenu } from \"./SlideShowToggleMenu\";\r\nimport { SlideShowPhotoChange } from \"./SlideShowPhotoChange\";\r\n\r\n/**\r\n * スライドショー管理クラスです。\r\n */\r\nexport class SlideShowManager {\r\n    /** トグルメニュークラス */\r\n    private toggleMenu: SlideShowToggleMenu;\r\n    /** 画像表示切り替えクラス */\r\n    public change: SlideShowPhotoChange;\r\n\r\n    /** インターバル処理 */\r\n    private interval: any = null;\r\n    /** スライドショーのリセットフラグ */\r\n    public resetFlg = false;\r\n    /** スライドショーの終了フラグ */\r\n    private endFlg = false;\r\n    /** 画像の表示モードです。 */\r\n    public mode: PhotoMode = PhotoMode.NORMAL;\r\n    /** 画像の表示時間です。 */\r\n    public time: number = 5;\r\n\r\n\r\n    /**\r\n     * コンストラクターです。\r\n     * @param element 画像表示エリアの要素\r\n     * @param array 画像データ一覧\r\n     */\r\n    constructor(element: HTMLElement, array: Array<PhotoData>) {\r\n        // メンバ変数の初期化をします。\r\n        this.toggleMenu = new SlideShowToggleMenu(this);\r\n        this.change = new SlideShowPhotoChange(element, array);\r\n        this._addEventListener();\r\n    }\r\n\r\n    /**\r\n     * イベント登録処理です。\r\n     */\r\n    private _addEventListener(): void {\r\n        // 再生ボタン押下時にイベント登録。\r\n        $('#play').on('click', () => {\r\n            $('div.explanation').hide();\r\n            this.changePhoto(this.time);\r\n        });\r\n\r\n        // 切り替えボタン押下時にイベント登録。\r\n        this.addChangeEventListener();\r\n\r\n        // キーボード操作イベント登録\r\n        this.addKeybordEventListener();\r\n\r\n        // マウスホイール操作イベント登録\r\n        this.addMousewheelEventListener();\r\n    }\r\n\r\n    /**\r\n     * 切り替えボタン押下時イベント登録。\r\n     */\r\n    private addChangeEventListener(): void {\r\n        // 表示切り替えボタン左が押されたら画像番号を前の画像に変更します。\r\n        $('#left-button').on('click', () => {\r\n            if (!this.change.isLock) {\r\n                this.change.subCount();\r\n                this.change.subCount();\r\n                this.resetFlg = true;\r\n                this.changePhoto(this.time);\r\n            }\r\n        });\r\n        // 表示切り替えボタン次が押されたら画像番号を次の画像に変更します。\r\n        $('#right-button').on('click', () => {\r\n            if (!this.change.isLock) {\r\n                this.resetFlg = true;\r\n                this.changePhoto(this.time);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * キーボード操作イベント登録\r\n     */\r\n    private addKeybordEventListener(): void {\r\n        $(\"#slideshow-wrap\").on('keydown', (e: JQuery.KeyDownEvent) => {\r\n            if (e.key === 'ArrowLeft') {\r\n                // 押されたキーが←キーの場合\r\n                if (!this.change.isLock) {\r\n                    this.change.subCount();\r\n                    this.change.subCount();\r\n                    // 画像変更\r\n                    this.resetFlg = true;\r\n                    this.changePhoto(this.time);\r\n                }\r\n            } else if (e.key === 'ArrowRight') {\r\n                // 押されたキーが→キーの場合\r\n                if (!this.change.isLock) {\r\n                    // 画像変更\r\n                    this.resetFlg = true;\r\n                    this.changePhoto(this.time);\r\n                }\r\n            } else if (e.key === 'ArrowDown') {\r\n                //  押されたキーが↓キーの場合(隠し要素)\r\n                this.change.isLock = this.change.isLock ? false : true;\r\n                if (this.change.isLock) {\r\n                    // ロック中のアイコンを作成する。\r\n                    const lockDiv = document.createElement('div');\r\n                    lockDiv.id = \"lock\";\r\n                    lockDiv.classList.add('locked');\r\n                    lockDiv.innerText = \"Locked\";\r\n                    $('#file-area').append(lockDiv);\r\n                } else {\r\n                    $('#lock').remove();\r\n                    // 画像変更\r\n                    this.resetFlg = true;\r\n                    this.changePhoto(this.time);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * マウスホイール操作の登録\r\n     */\r\n    private addMousewheelEventListener(): void {\r\n        $(\"#slideshow-wrap\").on('mousewheel', (ev: any) => {\r\n            if (ev.wheelDelta > 0) {\r\n                // マウスホイールを上に回した場合\r\n                if (!this.change.isLock) {\r\n                    this.change.subCount();\r\n                    this.change.subCount();\r\n                    // 画像変更\r\n                    this.resetFlg = true;\r\n                    this.changePhoto(this.time);\r\n                }\r\n            } else {\r\n                // マウスホイールを下に回した場合\r\n                if (!this.change.isLock) {\r\n                    // 画像変更\r\n                    this.resetFlg = true;\r\n                    this.changePhoto(this.time);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * オブジェクトの破棄時にListenerも破棄する。\r\n     */\r\n    public destructor(): void {\r\n        // 再生ボタンのイベントを破棄します。\r\n        $('#play').off('click');\r\n        // 画像変更ボタン左のイベントを破棄します。\r\n        $('#left-button').off('click');\r\n        // 画像変更ボタン右のイベントを破棄します。\r\n        $('right-button').off('click');\r\n        // キーボードイベントを破棄します。\r\n        $(\"#slideshow-wrap\").off('keydown');\r\n        // マウスホイールイベントを破棄します。\r\n        $(\"#slideshow-wrap\").off('mousewheel');\r\n        // スライドショーを停止します。\r\n        this.endFlg = true;\r\n        this.changePhoto(this.time);\r\n        // トグルメニューのイベントを破棄します。\r\n        this.toggleMenu.destructor();\r\n    }\r\n\r\n    /**\r\n     * 画像変更イベント処理です。\r\n     * @param sec 待機秒数\r\n     */\r\n    public changePhoto(sec: number): void {\r\n        if (this.resetFlg) {\r\n            // スライドショーのリセットフラグがtrueの場合、タイマーをリセットします。\r\n            clearInterval(this.interval);\r\n            this.resetFlg = false;\r\n        } else if (this.endFlg) {\r\n            // スライドショーの終了フラグがtrueの場合、タイマーをリセットしてスライドショーを終了します。\r\n            clearInterval(this.interval);\r\n            this.endFlg = false;\r\n            return;\r\n        }\r\n        // 初回の画像表示処理を呼び出します。\r\n        this.change.changePhoto(this.mode, sec);\r\n        // 引数sec秒ごとに処理を実行します。\r\n        this.interval = setInterval(() => {\r\n            this.change.changePhoto(this.mode, sec);\r\n        }, sec * 1000);\r\n    }\r\n}","import { PhotoData } from \"./PhotoData\";\r\nimport { PhotoMode } from \"./PhotoMode\";\r\n/**\r\n * 画像切り替えクラスです。\r\n */\r\nexport class SlideShowPhotoChange {\r\n    /** 画像表示エリアの要素 */\r\n    private photoAreaElemet: HTMLElement;\r\n    /** 画像データの配列 */\r\n    private photoArray: Array<PhotoData>;\r\n    /** 画像の表示時間です。 */\r\n    private time: number = 5;\r\n    /** 現在の画像番号 */\r\n    private photoCount: number;\r\n    /** ロックフラグ */\r\n    private _isLock: boolean = false;\r\n    /** 順序フラグ */\r\n    private _isDefaultOrder: boolean = true;\r\n\r\n    /**\r\n     * コンストラクターです。\r\n     */\r\n    constructor(element: HTMLElement, array: Array<PhotoData>) {\r\n        this.photoAreaElemet = element;\r\n        this.photoArray = array;\r\n        this.photoCount = 0;\r\n    }\r\n\r\n    /**\r\n     * 画像表示処理のラッパーです。\r\n     */\r\n    public changePhoto(mode: PhotoMode, time: number) {\r\n        /** 画像の表示時間です。 */\r\n        this.time = time;\r\n        // 画像番号の管理\r\n        this.countLoop();\r\n        // 現在の画像番号を基に配列から画像オブジェクトを取り出します。\r\n        const photo = this.photoArray[this.photoCount];\r\n        // 画像表示エリアを一旦空にします。\r\n        $(this.photoAreaElemet).empty();\r\n        // 画像を背景部に設定します。\r\n        $(\"#slideshow-wrap\").css({\r\n            'background-image': `url(${photo.filePath})`,\r\n        });\r\n        // 画像表示モード毎に処理を振り分けます。\r\n        switch (mode) {\r\n            case PhotoMode.NORMAL:\r\n                this.changeByHeight(photo);\r\n                break;\r\n            case PhotoMode.ZOOMOUT:\r\n                this.changeByZoomOut(photo);\r\n                break;\r\n            case PhotoMode.SLIDEIN:\r\n                this.changeBySlideIn(photo);\r\n                break;\r\n            default:\r\n                // 何も処理しない\r\n                break;\r\n        }\r\n        if (!this.isLock) {\r\n            if (!this.isDefaultOrder) {\r\n                // ランダム順ならランダムな値を返します。\r\n                this.setCount(Math.floor(Math.random() * this.photoArray.length));\r\n            } else {\r\n                // 画像番号を加算します。\r\n                this.addCount();\r\n            }\r\n        }\r\n    }\r\n\r\n    /** 画像番号加算 */\r\n    public addCount(): void {\r\n        this.photoCount++;\r\n    }\r\n\r\n    /** 画像番号減算 */\r\n    public subCount(): void {\r\n        this.photoCount--;\r\n    }\r\n\r\n    /** 画像番号設定 */\r\n    public setCount(count: number): void {\r\n        this.photoCount = count;\r\n    }\r\n\r\n    /** ロックフラグ getter */\r\n    get isLock() {\r\n        return this._isLock;\r\n    }\r\n\r\n    /** ロックフラグ setter */\r\n    set isLock(lock: boolean) {\r\n        this._isLock = lock;\r\n    }\r\n\r\n    /** 順序フラグ getter */\r\n    get isDefaultOrder() {\r\n        return this._isDefaultOrder;\r\n    }\r\n\r\n    /** 順序フラグ setter */\r\n    set isDefaultOrder(order: boolean) {\r\n        this._isDefaultOrder = order;\r\n    }\r\n\r\n    /**\r\n     * ウインドウの高さに合わせて画像を表示する処理です。\r\n     * 本当にただ表示するだけ。\r\n     * @param photo 画像データ\r\n     */\r\n    private changeByHeight(photo: PhotoData): void {\r\n        // 画像表示エリアに画像を中央に表示するプロパティを付与します。\r\n        $(this.photoAreaElemet).css({ \"text-align\": \"center\" });\r\n        // 画像表示エリアの範囲を取得します。\r\n        const areaHeight = $(this.photoAreaElemet).height();\r\n        const areaWidth = $(this.photoAreaElemet).width();\r\n        // 画像のプロパティを取得します。\r\n        const url = photo.filePath;\r\n        // 画像の要素を作成します。\r\n        // 画像にstyleを適用するためにphotoをclass属性に設定しています。\r\n        const element = $('<img>').addClass('photo').attr('src', url);\r\n        if (areaHeight && areaWidth) {\r\n            // 画像のサイズを取得します。\r\n            const size = this.calculation(photo, areaHeight, 0);\r\n            // 表示エリアの高さに画像を縮小して表示します。\r\n            element.width(`${size['photoX']}px`);\r\n            element.height(`${size['photoY']}px`);\r\n            if (areaWidth < size['photoX']) {\r\n                // 表示エリアの横幅よりも画像の横幅が大きい場合には画像の幅を基準にサイズを調整します。\r\n                // 画像のサイズを取得します。\r\n                const reSize = this.calculation(photo, 0, areaWidth);\r\n                // 表示エリアの高さに画像を縮小して表示します。\r\n                element.width(`${reSize['photoX']}px`);\r\n                element.height(`${reSize['photoY']}px`);\r\n            }\r\n        } else {\r\n            // 100%でもサイズは合うがあえて数値を設定する。\r\n            element.height(`${areaHeight}px`);\r\n        }\r\n        // 画像表示エリアに作成した画像要素を追加します。\r\n        $(this.photoAreaElemet).append(element);\r\n        // フェードインのアニメーションを追加したいのでanimation-fadeinをclass属性に追加します。\r\n        element.addClass(\"animation-fadein\");\r\n        element.css({ \"animation-duration\": `${this.time}s` });\r\n    }\r\n\r\n    /**\r\n     * 表示する画像がズームアウトアニメーションする処理です。\r\n     * ここでは画像をウインドウの２倍の大きさで表示した後、等倍に縮小するアニメーションを設定します。\r\n     * @param photo 画像データ\r\n     */\r\n    private changeByZoomOut(photo: PhotoData): void {\r\n        // 画像がposition:abusoluteになるので親要素の画像表示エリアはrelativeを設定すること\r\n        $(this.photoAreaElemet).css({ \"position\": \"relative\" });\r\n        // 画像表示エリアの範囲を取得します。\r\n        const areaHeight = $(this.photoAreaElemet).height();\r\n        const areaWidth = $(this.photoAreaElemet).width();\r\n        // 画像のプロパティを取得します。\r\n        const url = photo.filePath;\r\n        const photoWidth = photo.xSize;\r\n        const photoHeight = photo.ySize;\r\n        // 画像の要素を作成します。\r\n        const element = $('<img>').addClass('photo').attr('src', url);\r\n        if (photoWidth < photoHeight) {\r\n            // 縦長画像の場合\r\n            if (areaHeight && areaWidth) {\r\n                // 画像のサイズを取得します。\r\n                const size = this.calculation(photo, areaHeight * 2, 0);\r\n                // 画像の幅を設定します。\r\n                element.height(`${size['photoY']}px`);\r\n                // 画像をアニメションするために画像のスタイルを個別に設定します。\r\n                this.animationScale(element, (areaWidth / 2) - (size['photoX'] / 2), (areaHeight / 2) - (size['photoY'] / 2));\r\n            } else {\r\n                // 100%でもサイズは合うがあえて数値を設定する。\r\n                element.height(`${areaHeight}px`);\r\n            }\r\n        } else {\r\n            // 横長画像の場合\r\n            if (areaHeight && areaWidth) {\r\n                if (areaHeight < areaWidth) {\r\n                    // 横長画面の場合\r\n                    // 画像のサイズを取得します。\r\n                    const size = this.calculation(photo, areaHeight * 2, 0);\r\n                    // 画像の高さを設定します。\r\n                    element.height(`${size['photoY']}px`);\r\n                    // 画像をアニメションするために画像のスタイルを個別に設定します。\r\n                    this.animationScale(element, (areaWidth / 2) - (size['photoX'] / 2), (areaHeight / 2) - (size['photoY'] / 2));\r\n                } else {\r\n                    // 縦長画面の場合\r\n                    // 画像のサイズを取得します。\r\n                    const size = this.calculation(photo, 0, areaWidth * 2);\r\n                    // 画像の幅を設定します。\r\n                    element.width(`${size['photoX']}px`);\r\n                    // 画像をアニメションするために画像のスタイルを個別に設定します。\r\n                    this.animationScale(element, (areaWidth / 2) - (size['photoX'] / 2), (areaHeight / 2) - (size['photoY'] / 2));\r\n                }\r\n            } else {\r\n                // 100%でもサイズは合うがあえて数値を設定する。\r\n                element.width(`${areaWidth}px`);\r\n            }\r\n        }\r\n        // 画像表示エリアに作成した画像要素を追加します。\r\n        $(this.photoAreaElemet).append(element);\r\n        // フェードインのアニメーションを追加したいのでanimation-fadeinをclass属性に追加します。\r\n        element.addClass(\"animation-fadein\");\r\n        element.css({ \"animation-duration\": this.time + \"s\" });\r\n    }\r\n\r\n    /**\r\n     * 表示する画像がスライドインアニメーションする処理です。\r\n     * @param photo 画像データ\r\n     */\r\n    private changeBySlideIn(photo: PhotoData): void {\r\n        // 画像がposition:abusoluteになるので親要素の画像表示エリアはrelativeを設定すること\r\n        $(this.photoAreaElemet).css({ \"position\": \"relative\" });\r\n        // 画像表示エリアの範囲を取得します。\r\n        const areaHeight = $(this.photoAreaElemet).height();\r\n        const areaWidth = $(this.photoAreaElemet).width();\r\n        // 画像のプロパティを取得します。\r\n        const url = photo.filePath;\r\n        const photoWidth = photo.xSize;\r\n        const photoHeight = photo.ySize;\r\n        // 画像の要素を作成します。\r\n        const element = $('<img>').addClass('photo').attr('src', url);\r\n        if (photoWidth < photoHeight) {\r\n            // 縦長画像の場合\r\n            if (areaHeight && areaWidth) {\r\n                // 画像のサイズを取得します。\r\n                const size = this.calculation(photo, 0, areaWidth);\r\n                // 画像の幅を設定します。\r\n                element.width(`${size['photoX']}px`);\r\n                // ランダムで遊ぶ\r\n                const random = Math.floor(Math.random() * 11);\r\n                if (5 < random) {\r\n                    // ここでは下からスライドして画像全体を表示するアニメーションを設定します。\r\n                    // 画像をアニメションするために画像のスタイルを個別に設定します。\r\n                    if (areaHeight < areaWidth) {\r\n                        // 横長画面の場合\r\n                        this.animationMoveDown(element, areaHeight - size['photoY']);\r\n                    } else {\r\n                        // 縦長画面の場合\r\n                        if (areaHeight < size['photoY']) {\r\n                            this.animationMoveDown(element, areaHeight - size['photoY']);\r\n                        }\r\n                    }\r\n                } else {\r\n                    // ここでは上からスライドして画像全体を表示するアニメーションを設定します。\r\n                    // 画像をアニメションするために画像のスタイルを個別に設定します。\r\n                    if (areaHeight < areaWidth) {\r\n                        // 横長画面の場合\r\n                        this.animationMoveUp(element, areaHeight - size['photoY']);\r\n                    } else {\r\n                        // 縦長画面の場合\r\n                        if (areaHeight < size['photoY']) {\r\n                            this.animationMoveUp(element, areaHeight - size['photoY']);\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                // 100%でもサイズは合うがあえて数値を設定する。\r\n                element.height(`${areaHeight}px`);\r\n            }\r\n        } else {\r\n            // 横長画像の場合\r\n            if (areaHeight && areaWidth) {\r\n                // ランダムで遊ぶ\r\n                const random = Math.floor(Math.random() * 11);\r\n                if (5 < random) {\r\n                    // ここでは左からスライドして画像全体を表示するアニメーションを設定します。\r\n                    // 画像をアニメションするために画像のスタイルを個別に設定します。\r\n                    if (areaHeight < areaWidth) {\r\n                        // 横長画面の場合\r\n                        // 画像のサイズを取得します。\r\n                        const size = this.calculation(photo, 0, areaWidth);\r\n                        // 画像の幅を設定します。\r\n                        element.width(`${size['photoX']}px`);\r\n                        this.animationMoveDown(element, areaHeight - size['photoY']);\r\n                    } else {\r\n                        // 縦長画面の場合\r\n                        // 画像のサイズを取得します。\r\n                        const size = this.calculation(photo, areaHeight, 0);\r\n                        // 画像の高さを設定します。\r\n                        element.height(`${size['photoY']}px`);\r\n                        this.animationMoveRight(element, areaWidth - size['photoX']);\r\n                    }\r\n                } else {\r\n                    // ここでは右からスライドして画像全体を表示するアニメーションを設定します。\r\n                    // 画像をアニメションするために画像のスタイルを個別に設定します。\r\n                    if (areaHeight < areaWidth) {\r\n                        // 横長画面の場合\r\n                        // 画像のサイズを取得します。\r\n                        const size = this.calculation(photo, 0, areaWidth);\r\n                        // 画像の幅を設定します。\r\n                        element.width(`${size['photoX']}px`);\r\n                        this.animationMoveUp(element, areaHeight - size['photoY']);\r\n                    } else {\r\n                        // 縦長画面の場合\r\n                        // 画像のサイズを取得します。\r\n                        const size = this.calculation(photo, areaHeight, 0);\r\n                        // 画像の高さを設定します。\r\n                        element.height(`${size['photoY']}px`);\r\n                        this.animationMoveLeft(element, areaWidth - size['photoX']);\r\n                    }\r\n                }\r\n            } else {\r\n                // 100%でもサイズは合うがあえて数値を設定する。\r\n                element.width(`${areaWidth}px`);\r\n            }\r\n        }\r\n        // 画像表示エリアに作成した画像要素を追加します。\r\n        $(this.photoAreaElemet).append(element);\r\n        // フェードインのアニメーションを追加したいのでanimation-fadeinをclass属性に追加します。\r\n        element.addClass(\"animation-fadein\");\r\n        element.css({ \"animation-duration\": this.time + \"s\" });\r\n    }\r\n\r\n    /**\r\n     * 拡大アニメーション設定です。\r\n     * @param element 画像要素 \r\n     * @param rangeX 横幅の計算\r\n     * @param rangeY 縦幅の計算\r\n     */\r\n    private animationScale(element: JQuery<HTMLElement>, rangeX: number, rangeY: number): void {\r\n        element.css({\r\n            // 画像は絶対位置で配置します。\r\n            \"position\": \"absolute\",\r\n            // アニメーションさせた際の原点を中央に設定します。\r\n            \"transform-origin\": \"center\",\r\n            // 親要素の中央に配置したいので計算しています。\r\n            // ここでのleftとtopは画像要素の左上の位置でtransform-originの原点位置ではないのに注意。\r\n            \"left\": `${rangeX}px`,\r\n            \"top\": `${rangeY}px`,\r\n        });\r\n        // 画像のサイズを1/2に縮小するアニメーションを付与する。\r\n        element.addClass(\"animation-scale\");\r\n        element.css({ \"animation-duration\": this.time + \"s\" });\r\n    }\r\n\r\n    /**\r\n     * 縦移動（下方向）のアニメーション設定です。\r\n     * @param element 画像要素 \r\n     * @param range 縦幅の計算\r\n     */\r\n    private animationMoveDown(element: JQuery<HTMLElement>, range: number): void {\r\n        element.css({\r\n            // topを親要素の高さから画像の高さ分引いたマイナス位置に配置します。\r\n            // これにより親要素のbottomと画像のbottomが同じ位置になります。\r\n            // アニメーションによりtopが0pxになるまで移動させるので画像が下方向にスライドして表示されます。\r\n            \"position\": \"absolute\",\r\n            \"left\": \"0px\",\r\n            \"top\": `${range}px`,\r\n        });\r\n        // 画像を下方向にスクロールするアニメーションを付与します。\r\n        element.addClass(\"animation-moveDown\");\r\n        element.css({ \"animation-duration\": this.time + \"s\" });\r\n    }\r\n\r\n    /**\r\n     * 縦移動（上方向）のアニメーション設定です。\r\n     * @param element 画像要素 \r\n     * @param range 縦幅の計算\r\n     */\r\n    private animationMoveUp(element: JQuery<HTMLElement>, range: number): void {\r\n        element.css({\r\n            // 画像は絶対位置で配置します。\r\n            \"position\": \"absolute\",\r\n            // bottomを親要素の高さから画像の高さ分引いたマイナス位置に配置します。\r\n            // これにより親要素のtopと画像のtopが同じ位置になります。\r\n            // アニメーションによりbottomが0pxになるまで移動させるので画像が上方向にスライドして表示されます。\r\n            \"left\": \"0px\",\r\n            \"bottom\": `${range}px`,\r\n        });\r\n        // 画像を上方向にスクロールするアニメーションを付与します。\r\n        element.addClass(\"animation-moveUp\");\r\n        element.css({ \"animation-duration\": this.time + \"s\" });\r\n    }\r\n\r\n    /**\r\n     * 横移動（左方向）のアニメーション設定です。\r\n     * @param element 画像要素 \r\n     * @param range 横幅の計算\r\n     */\r\n    private animationMoveLeft(element: JQuery<HTMLElement>, range: number): void {\r\n        element.css({\r\n            // 画像は絶対位置で配置します。\r\n            \"position\": \"absolute\",\r\n            // rightを親要素の幅から画像の幅分引いたマイナス位置に配置します。\r\n            // これにより親要素のrightと画像のrightが同じ位置になります。\r\n            // アニメーションによりrightが0pxになるまで移動させるので画像が左方向にスライドして表示されます。\r\n            \"right\": `${range}px`,\r\n            \"top\": `0px`,\r\n        });\r\n        // 画像を左方向にスクロールするアニメーションを付与します。\r\n        element.addClass(\"animation-moveLeft\");\r\n        element.css({ \"animation-duration\": this.time + \"s\" });\r\n    }\r\n\r\n    /**\r\n     * 横移動（右方向）のアニメーション設定です。\r\n     * @param element 画像要素 \r\n     * @param range 横幅の計算\r\n     */\r\n    private animationMoveRight(element: JQuery<HTMLElement>, range: number): void {\r\n        element.css({\r\n            // leftを親要素の幅から画像の幅分引いたマイナス位置に配置します。\r\n            // これにより親要素のrightと画像のrightが同じ位置になります。\r\n            // アニメーションによりleftが0pxになるまで移動させるので画像が右方向にスライドして表示されます。\r\n            \"position\": \"absolute\",\r\n            \"left\": `${range}px`,\r\n            \"top\": `0px`,\r\n        });\r\n        // 画像を右方向にスクロールするアニメーションを付与します。\r\n        element.addClass(\"animation-moveRight\");\r\n        element.css({ \"animation-duration\": this.time + \"s\" });\r\n    }\r\n\r\n    /**\r\n     * 画像番号を管理します。\r\n     */\r\n    private countLoop(): void {\r\n        if (this.photoCount < 0) {\r\n            // 0より小さい場合、最後尾に移動します。\r\n            this.photoCount = this.photoArray.length - 1;\r\n        } else if (this.photoArray.length <= this.photoCount) {\r\n            // 範囲外ならカウントをリセットします。\r\n            this.photoCount = 0;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 画像のサイズを計算します。\r\n     * 設定する高さもしくは横幅に応じて、もう片方の数値を算出します。\r\n     * @param photo 画像データ\r\n     * @param height 画像の高さ（widthを設定する場合、0を指定してください）\r\n     * @param width 画像の横幅（heightを設定する場合、0を指定してください）\r\n     * @return 画像サイズを取得する連想配列\r\n     */\r\n    private calculation(photo: PhotoData, height: number, width: number): { [key: string]: number } {\r\n        let size: { [key: string]: number } = {};\r\n        if (0 < height) {\r\n            // 高さを基に計算する場合\r\n            size['photoY'] = height;\r\n            const percent = height / photo.ySize;\r\n            size['photoX'] = photo.xSize * percent;\r\n        } else if (0 < width) {\r\n            // 横幅を基に計算する場合\r\n            size['photoX'] = width;\r\n            const percent = width / photo.xSize;\r\n            size['photoY'] = photo.ySize * percent;\r\n        } else {\r\n            // どちらも設定されている場合\r\n            throw Error(\"Either argument should be 0. height or width\");\r\n        }\r\n        return size;\r\n    }\r\n}","/**\r\n * 再生ボタン機能クラスです。\r\n */\r\nexport class SlideShowPlayButton {\r\n    /** 再生機能を設定するボタンの要素 */\r\n    private button: HTMLElement;\r\n\r\n    /**\r\n     * コンストラクターです。\r\n     * @param element 再生ボタンの要素\r\n     */\r\n    constructor(element: HTMLElement) {\r\n        this.button = element;\r\n        // 初期表示時はボタンを非活性にします。\r\n        $(this.button).prop('disabled', true);\r\n        // 初期表示時は画像切り替えボタンを非表示にします。\r\n        $('#left-side').css({ \"display\": \"none\" });\r\n        $('#right-side').css({ \"display\": \"none\" });\r\n        // イベント登録処理を呼び出します。\r\n        this._addEventListener();\r\n    }\r\n\r\n    /**\r\n     * イベント登録処理\r\n     */\r\n    private _addEventListener(): void {\r\n        $('#file').on('change', (ev: any) => {\r\n            if (ev.target.files.length > 0) {\r\n                // 読み込みファイルがある場合\r\n                // ファイルダイアログ部品に変更があった場合に再生ボタンを活性に切り替えます。\r\n                $(this.button).prop('disabled', false);\r\n                // ファイルダイアログ部品に変更があった場合に画像切り替えボタンを非表示にします。\r\n                $('#left-side').css({ \"display\": \"none\" });\r\n                $('#right-side').css({ \"display\": \"none\" });\r\n            }\r\n        });\r\n\r\n        $('#play').on('click', () => {\r\n            // 再生ボタンが押されたときにボタンを非活性にします。\r\n            $(this.button).prop('disabled', true);\r\n            // 画像切り替えボタンを表示にします。\r\n            $('#left-side').css({ \"display\": \"block\" });\r\n            $('#right-side').css({ \"display\": \"block\" });\r\n        })\r\n    }\r\n}","import { SlideShowManager } from \"./SlideShowManager\";\r\nimport { PhotoMode } from \"./PhotoMode\";\r\n/**\r\n * トグルメニュー作成クラスです。\r\n */\r\nexport class SlideShowToggleMenu {\r\n    /** スライドショー管理クラス */\r\n    private slideShowManager: SlideShowManager;\r\n\r\n    /**\r\n     * コンストラクターです。\r\n     * @param element 画像表示エリアの要素\r\n     */\r\n    constructor(manager: SlideShowManager) {\r\n        // メンバ変数の初期化をします。\r\n        this.slideShowManager = manager;\r\n        // トグルメニューを作成します。\r\n        this.menuInit();\r\n        // イベント登録します。\r\n        this.addTogglemenuEventListener();\r\n    }\r\n\r\n    /**\r\n     * トグルメニューの作成\r\n     */\r\n    private menuInit(): void {\r\n        // 一度トグルメニューを削除する。\r\n        $('#toggle-menu').remove();\r\n        // トグルメニュー外枠作成\r\n        const menuDiv = $('<div></div>');\r\n        menuDiv.attr({\r\n            id: \"toggle-menu\",\r\n            class: \"menu\"\r\n        });\r\n        // トグルメニュータイトル\r\n        const titleDiv = $('<div></div>');\r\n        titleDiv.attr(\"id\", \"menu-title\");\r\n        titleDiv.text(\"Settings\");\r\n        menuDiv.append(titleDiv);\r\n        const hr = $('<hr>');\r\n        menuDiv.append(hr);\r\n        // モード\r\n        const modeDiv = $('<div></div>');\r\n        modeDiv.attr(\"id\", \"mode\");\r\n        // モードタイトル\r\n        const modeTitleDiv = $('<div></div>');\r\n        modeTitleDiv.attr({ id: \"menu-subtitle\", class: \"menu-subtitle\" });\r\n        modeTitleDiv.text(\"Mode:\");\r\n        modeDiv.append(modeTitleDiv);\r\n        // モード「通常」項目作成\r\n        const normalDiv = $('<div></div>');\r\n        normalDiv.attr({ id: \"normal-mode\", class: \"menu-item\" });\r\n        const normalRadio = $('<input/>');\r\n        normalRadio.attr({\r\n            id: \"normal\",\r\n            type: \"radio\",\r\n            name: \"mode\",\r\n        });\r\n        normalRadio.prop(\"checked\", true);\r\n        normalDiv.append(normalRadio);\r\n        const normalLabel = $('<label></label>');\r\n        normalLabel.attr(\"for\", \"normal\");\r\n        normalLabel.text(\"Normal\");\r\n        normalDiv.append(normalLabel);\r\n        modeDiv.append(normalDiv);\r\n        // モード「ズームアウト」項目作成\r\n        const zoomoutDiv = $('<div></div>');\r\n        zoomoutDiv.attr({ id: \"zoomout-mode\", class: \"menu-item\" });\r\n        const zoomoutRadio = $('<input/>');\r\n        zoomoutRadio.attr({\r\n            id: \"zoomout\",\r\n            type: \"radio\",\r\n            name: \"mode\",\r\n        });\r\n        zoomoutDiv.append(zoomoutRadio);\r\n        const zoomoutLabel = $('<label></label>');\r\n        zoomoutLabel.attr(\"for\", \"zoomout\");\r\n        zoomoutLabel.text(\"ZoomOut\");\r\n        zoomoutDiv.append(zoomoutLabel);\r\n        modeDiv.append(zoomoutDiv);\r\n        // モード「スライドイン」項目作成\r\n        const slideinDiv = $('<div></div>');\r\n        slideinDiv.attr({ id: \"slidein-mode\", class: \"menu-item\" });\r\n        const slideinRadio = $('<input/>');\r\n        slideinRadio.attr({\r\n            id: \"slidein\",\r\n            type: \"radio\",\r\n            name: \"mode\",\r\n        });\r\n        slideinDiv.append(slideinRadio);\r\n        const slideinLabel = $('<label></label>');\r\n        slideinLabel.attr(\"for\", \"slidein\");\r\n        slideinLabel.text(\"SlideIn\");\r\n        slideinDiv.append(slideinLabel);\r\n        modeDiv.append(slideinDiv);\r\n        menuDiv.append(modeDiv);\r\n        // 時間\r\n        const timeDiv = $('<div></div>');\r\n        timeDiv.attr(\"id\", \"time\");\r\n        // 時間タイトル\r\n        const timeTitleDiv = $('<div></div>');\r\n        timeTitleDiv.attr({ id: \"time-subtitle\", class: \"menu-subtitle\" });\r\n        timeTitleDiv.text(\"Time:\");\r\n        timeDiv.append(timeTitleDiv);\r\n        //「３秒」項目作成\r\n        const sec3Div = $('<div></div>');\r\n        sec3Div.attr({ id: \"sec3-time\", class: \"menu-item\" });\r\n        const sec3Radio = $('<input/>');\r\n        sec3Radio.attr({\r\n            id: \"sec3\",\r\n            type: \"radio\",\r\n            name: \"time\",\r\n        });\r\n        sec3Div.append(sec3Radio);\r\n        const sec3Label = $('<label></label>');\r\n        sec3Label.attr(\"for\", \"sec3\");\r\n        sec3Label.text(\"3s\");\r\n        sec3Div.append(sec3Label);\r\n        timeDiv.append(sec3Div);\r\n        //「５秒」項目作成\r\n        const sec5Div = $('<div></div>');\r\n        sec5Div.attr({ id: \"sec5-time\", class: \"menu-item\" });\r\n        const sec5Radio = $('<input/>');\r\n        sec5Radio.attr({\r\n            id: \"sec5\",\r\n            type: \"radio\",\r\n            name: \"time\",\r\n        });\r\n        sec5Radio.prop(\"checked\", true);\r\n        sec5Div.append(sec5Radio);\r\n        const sec5Label = $('<label></label>');\r\n        sec5Label.attr(\"for\", \"sec5\");\r\n        sec5Label.text(\"5s\");\r\n        sec5Div.append(sec5Label);\r\n        timeDiv.append(sec5Div);\r\n        //「１０秒」項目作成\r\n        const sec10Div = $('<div></div>');\r\n        sec10Div.attr({ id: \"sec10-time\", class: \"menu-item\" });\r\n        const sec10Radio = $('<input/>');\r\n        sec10Radio.attr({\r\n            id: \"sec10\",\r\n            type: \"radio\",\r\n            name: \"time\",\r\n        });\r\n        sec10Div.append(sec10Radio);\r\n        const sec10Label = $('<label></label>');\r\n        sec10Label.attr(\"for\", \"sec10\");\r\n        sec10Label.text(\"10s\");\r\n        sec10Div.append(sec10Label);\r\n        timeDiv.append(sec10Div);\r\n        menuDiv.append(timeDiv);\r\n        // 順番\r\n        const orderDiv = $('<div></div>');\r\n        orderDiv.attr(\"id\", \"order\");\r\n        // 順番タイトル\r\n        const orderTitleDiv = $('<div></div>');\r\n        orderTitleDiv.attr({ id: \"order-subtitle\", class: \"menu-subtitle\" });\r\n        orderTitleDiv.text(\"Order:\");\r\n        orderDiv.append(orderTitleDiv);\r\n        // 「名前順」項目作成\r\n        const defaultOrderDiv = $('<div></div>');\r\n        defaultOrderDiv.attr({ id: \"default-order\", class: \"menu-item\" });\r\n        const defaultOrderRadio = $('<input/>');\r\n        defaultOrderRadio.attr({\r\n            id: \"default\",\r\n            type: \"radio\",\r\n            name: \"order\",\r\n        });\r\n        defaultOrderRadio.prop(\"checked\", true);\r\n        defaultOrderDiv.append(defaultOrderRadio);\r\n        const defaultOrderLabel = $('<label></label>');\r\n        defaultOrderLabel.attr(\"for\", \"default\");\r\n        defaultOrderLabel.text(\"ByName\");\r\n        defaultOrderDiv.append(defaultOrderLabel);\r\n        orderDiv.append(defaultOrderDiv);\r\n        // 「ランダム順」項目作成\r\n        const randomOrderDiv = $('<div></div>');\r\n        randomOrderDiv.attr({ id: \"random-order\", class: \"menu-item\" });\r\n        const randomOrderRadio = $('<input/>');\r\n        randomOrderRadio.attr({\r\n            id: \"random\",\r\n            type: \"radio\",\r\n            name: \"order\",\r\n        });\r\n        randomOrderDiv.append(randomOrderRadio);\r\n        const randomOrderLabel = $('<label></label>');\r\n        randomOrderLabel.attr(\"for\", \"random\");\r\n        randomOrderLabel.text(\"ByRandom\");\r\n        randomOrderDiv.append(randomOrderLabel);\r\n        orderDiv.append(randomOrderDiv);\r\n        menuDiv.append(orderDiv);\r\n        // 設定エリアの親要素に追加\r\n        $('.setting-area').append(menuDiv);\r\n    }\r\n\r\n    /**\r\n     * トグルメニューの登録\r\n     */\r\n    private addTogglemenuEventListener(): void {\r\n        // トグルメニューの開閉を設定\r\n        $('#setting').on('click', () => {\r\n            $('#toggle-menu').slideToggle();\r\n            $('#toggle-menu').toggleClass('active');\r\n        });\r\n        // 「通常」が押されたら表示モードを通常に変更\r\n        this.modeAddEvent($(\"#normal\"), PhotoMode.NORMAL);\r\n\r\n        // 「ズームアウト」が押されたら表示モードを効果に変更\r\n        this.modeAddEvent($(\"#zoomout\"), PhotoMode.ZOOMOUT);\r\n\r\n        // 「スライドイン」が押されたら表示モードを効果に変更\r\n        this.modeAddEvent($(\"#slidein\"), PhotoMode.SLIDEIN);\r\n\r\n        // 「３秒」が押されたら表示時間を３秒に変更\r\n        this.timeAddEvent($(\"#sec3\"), 3);\r\n\r\n        // 「５秒」が押されたら表示時間を５秒に変更\r\n        this.timeAddEvent($(\"#sec5\"), 5);\r\n\r\n        // 「１０秒」が押されたら表示時間を１０秒に変更\r\n        this.timeAddEvent($(\"#sec10\"), 10);\r\n\r\n        // 「名前順」が押されたら表示順を通常順に変更\r\n        this.orderAddEvent($(\"#default\"), true);\r\n\r\n        // 「ランダム順」が押されたら表示順をランダム順に変更\r\n        this.orderAddEvent($(\"#random\"), false);\r\n    }\r\n\r\n    /**\r\n     * オブジェクトの破棄時にListenerも破棄する。\r\n     */\r\n    public destructor(): void {\r\n        $('#setting').off('click');\r\n        $(\"#zoomout\").off('change');\r\n        $(\"#slidein\").off('change');\r\n        $(\"#sec3\").off('change');\r\n        $(\"#sec5\").off('change');\r\n        $(\"#sec10\").off('change');\r\n        $(\"#default\").off('change');\r\n        $(\"#random\").off('change');\r\n    }\r\n\r\n    /**\r\n     * トグルメニューの項目に画像表示モード切り替えイベントを登録します。\r\n     * @param $elem 対象の要素\r\n     * @param mode 画像表示モード\r\n     */\r\n    private modeAddEvent($elem: JQuery, mode: PhotoMode): void {\r\n        // 自分自身の要素にchangeイベントを登録します。\r\n        $elem.on('change', () => {\r\n            this.slideShowManager.mode = mode;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * トグルメニューの項目に表示秒数切り替えイベントを登録します。\r\n     * @param $elem 対象の要素\r\n     * @param sec 秒数\r\n     */\r\n    private timeAddEvent($elem: JQuery, sec: number): void {\r\n        // 自分自身の要素にchangeイベントを登録します。\r\n        $elem.on('change', () => {\r\n            this.slideShowManager.time = sec;\r\n            this.slideShowManager.resetFlg = true;\r\n            this.slideShowManager.changePhoto(this.slideShowManager.time);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * トグルメニューの項目に表示順切り替えイベントを登録します。\r\n     * @param $elem 対象の要素\r\n     * @param flg 切り替えフラグtrue:通常順 false:ランダム順 \r\n     */\r\n    private orderAddEvent($elem: JQuery, flg: boolean): void {\r\n        // 自分自身の要素にchangeイベントを登録します。\r\n        $elem.on('change', () => {\r\n            this.slideShowManager.change.isDefaultOrder = flg;\r\n        });\r\n    }\r\n}","import { SlideShowDomCreate } from \"./SlideShowDomCreate\";\r\nimport { SlideShowFileReader } from \"./SlideShowFileReader\";\r\nimport { SlideShowPlayButton } from \"./SlideShowPlayButton\";\r\n\r\n/**\r\n * Windows風スライドショーのメインクラスです。\r\n * 各画面部品の呼び出しを担当します。\r\n * スクリプトはHTMLのbody部最後で呼ばれます＝DOMの生成が完了しています。\r\n */\r\nclass Main {\r\n    /**\r\n     * メインメソッドです。\r\n     * HTMLの要素からサイズなどの情報を取得して、\r\n     * 各機能に対するクラスの呼び出しを行ないます。\r\n     */\r\n    public main() {\r\n        // DOMの作成\r\n        new SlideShowDomCreate();\r\n        // ファイル操作エリアを取得\r\n        const $fileArea: JQuery = $('#file-area');\r\n        // 画像表示エリアを取得\r\n        const $photoArea: JQuery = $('#photo-area');\r\n\r\n        /*\r\n         * 画面の構成要素を動的に決定します。\r\n         */\r\n        this.setDisplaySize($fileArea, $photoArea);\r\n        // 画面サイズが変更された場合\r\n        $(window).on('resize', () => {\r\n            this.setDisplaySize($fileArea, $photoArea);\r\n        });\r\n\r\n        // ファイル読み込み機能の呼び出し\r\n        new SlideShowFileReader($('#file')[0], $photoArea[0]);\r\n        // 再生ボタン機能の呼び出し\r\n        new SlideShowPlayButton($('#play')[0]);\r\n    }\r\n\r\n    /**\r\n     * 画面のサイズを動的に設定します。\r\n     * @param $fileArea ファイル操作エリア\r\n     * @param $photoArea 画像表示エリア\r\n     */\r\n    private setDisplaySize($fileArea: JQuery, $photoArea: JQuery): void {\r\n        // ブラウザのサイズを取得\r\n        const windowH = $(window).height();\r\n        const windowW = $(window).width();\r\n        const fileAreaH = $fileArea.height();\r\n        if (windowH && windowW && fileAreaH) {\r\n            // 画像表示エリアの高さを設定します。\r\n            $photoArea.css({\r\n                'max-height': `${windowH - fileAreaH - 50}px`,\r\n                'height': `${windowH - fileAreaH - 50}px`\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n// メイン処理を起動\r\n$(window).on('load', () => {\r\n    new Main().main();\r\n});"],"sourceRoot":""}