{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/MimeType.ts","webpack:///./src/PhotoData.ts","webpack:///./src/PhotoMode.ts","webpack:///./src/SlideShowFileReader.ts","webpack:///./src/SlideShowManager.ts","webpack:///./src/SlideShowPlayer.ts","webpack:///./src/SlideShowToggleMenu.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"SlideShow.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/main.ts\");\n","/**\r\n * MINEタイプクラスです。\r\n * 許容するMINEタイプを設定します。\r\n */\r\nexport class MimeType {\r\n    /*\r\n     * statc変数を使ってみた。このアプリケーションでは特に意味なし。\r\n     */\r\n    /** JPEG */\r\n    public static TYPE_JPG = \"image/jpeg\";\r\n    /** PNG */\r\n    public static TYPE_PNG = \"image/png\";\r\n    /** BMP */\r\n    public static TYPE_BMP = \"image/bmp\";\r\n    /** GIF */\r\n    public static TYPE_GIF = \"image/gif\";\r\n\r\n    /**\r\n     * MINEタイプチェック処理です。\r\n     * staticメソッド使ってみた。\r\n     * @param type MINEタイプ\r\n     * @return boolean 可:true,不可:false\r\n     */\r\n    public static isAvailable(type : string) : boolean {\r\n        switch (type) {\r\n            case this.TYPE_JPG:\r\n            case this.TYPE_PNG:\r\n            case this.TYPE_BMP:\r\n            case this.TYPE_GIF:\r\n                return true;\r\n            default:\r\n                break;\r\n        }\r\n        return false;\r\n    }\r\n}","/**\r\n * 画像データクラスです。\r\n * 画像の情報を保持します。\r\n */\r\nexport class PhotoData {\r\n    /** 画像の横幅 */\r\n    private x_size : number;\r\n    /** 画像の縦幅 */\r\n    private y_size : number;\r\n    /** 画像の名前 */\r\n    private file_name: string;\r\n    /** 画像のURL */\r\n    private file_path: string;\r\n\r\n    /**\r\n     * コンストラクターです。\r\n     * @param file 画像ファイルオブジェクト\r\n     * @param url 画像ファイルのURL\r\n     */\r\n    constructor(file : File, url : any) {\r\n        this.x_size = 0;\r\n        this.y_size = 0;\r\n        // Imageを使うことで画像の詳細な情報が取得できます。\r\n        const img = new Image();\r\n        img.src = url;\r\n        // 読み込んだら処理する。\r\n        img.onload = () => {\r\n            this.x_size = img.width;\r\n            this.y_size = img.height;\r\n        }\r\n        this.file_name = file.name;\r\n        this.file_path = url;\r\n    }\r\n\r\n    /*\r\n     * 一応用意したGeterSeter\r\n    */\r\n    public setXsize(size: number): void {\r\n        this.x_size = size;\r\n    }\r\n    public getXsize(): number {\r\n        return this.x_size;\r\n    }\r\n\r\n    public setYsize(size: number): void {\r\n        this.y_size = size;\r\n    }\r\n    public getYsize(): number {\r\n        return this.y_size;\r\n    }\r\n\r\n    public setFilePath(path: string): void {\r\n        this.file_path = path;\r\n    }\r\n    public getFIlePath(): string {\r\n        return this.file_path;\r\n    }\r\n\r\n    public setFileName(name: string): void {\r\n        this.file_name = name;\r\n    }\r\n    public getFileName(): string {\r\n        return this.file_name;\r\n    }\r\n}","export enum PhotoMode {\r\n    NORMAL,\r\n    ZOOMOUT,\r\n    SLIDEIN\r\n}","import { MimeType } from \"./MimeType\";\r\nimport { PhotoData } from \"./PhotoData\";\r\nimport { SlideShowManager } from \"./SlideShowManager\";\r\n\r\n/**\r\n * ファイル読み込み機能クラスです。\r\n * 画像ファイルだけを取り出して、後続処理で使いやすいように整理しています。\r\n * 非同期処理なのでこのクラスからスライドショー管理クラスを呼び出しています。fuck\r\n */\r\nexport class SlideShowFileReader {\r\n\r\n    /** スライドショー管理クラス */\r\n    private slideShowManager: SlideShowManager | null;\r\n    /** ファイルダイアログの要素 */\r\n    private fileElement: HTMLElement;\r\n    /** 画像表示エリアの要素 */\r\n    private photoAreaElement: HTMLElement;\r\n    /** 画像データの配列 */\r\n    private photoArray: Array<PhotoData>;\r\n\r\n    /**\r\n     * コンストラクターです。\r\n     * @param file ファイルダイアログの要素\r\n     * @param photo 画像表示エリアの要素\r\n     */\r\n    constructor(file: HTMLElement, photo: HTMLElement) {\r\n        // メンバ変数の初期化をします。\r\n        this.slideShowManager = null;\r\n        this.fileElement = file;\r\n        this.photoAreaElement = photo;\r\n        this.photoArray = new Array<PhotoData>();\r\n        this._addEventListener();\r\n    }\r\n\r\n    /**\r\n     * イベントの登録処理です。\r\n     */\r\n    private _addEventListener(): void {\r\n        // ファイルダイアログ部品に変更があった場合にファイルを読み込みます。\r\n        $(this.fileElement).on('change', async (ev) => {\r\n            // ファイルを読み込みます。\r\n            await this.readFiles(ev);\r\n            // 全ファイルの処理が終わったらスライドショーを実行します。\r\n            this.slideShowManager = new SlideShowManager(this.photoAreaElement, this.photoArray);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * ファイル読み込み処理です。\r\n     * ファイルダイアログで取得できたファイルを画像ファイルだけPhotoDataとして保持します。\r\n     * @param ev changeイベント\r\n     */\r\n    private async readFiles(ev: JQuery.ChangeEvent): Promise<void> {\r\n        if (this.slideShowManager != null) {\r\n            // ファイル読み込みが行なわれた際、前回のオブジェクトからイベントリスナーを破棄します。\r\n            this.slideShowManager.destructor();\r\n        }\r\n        // 画像データを初期化します。Arrayは配列でジェネリクスを使って型を指定します。\r\n        this.photoArray = new Array<PhotoData>();\r\n        // プログレスバーの要素を取得します。\r\n        const meter = $(\"#meter\");\r\n        const meterText = $(\"#meter-text\");\r\n        const fileMax = ev.target.files.length;\r\n        let fileCount = 0;\r\n        // ファイルダイアログから取得できた分だけ処理をループします。\r\n        // HTMLElementのeventからev.target.filesでファイルを読み取れます。\r\n        for (let i = 0; i < ev.target.files.length; i++) {\r\n            // constは再代入しない場合に、letは再代入しない場合に使います。\r\n            const file = ev.target.files[i];\r\n            if (!MimeType.isAvailable(file.type)) {\r\n                // 欲しいのは画像なのでMimeTypeで指定しているMINEタイプのみ処理します。\r\n                console.log(\"Error:\" + file.name + \" is \" + file.type ? file.type : 'not found');\r\n                // fileCountを加算します。\r\n                fileCount++;\r\n                continue;\r\n            }\r\n            // FileReaderを使います。\r\n            const fileReader = new FileReader();\r\n            // readAsDataURLを使うとresultで画像のURLが取得できます。\r\n            fileReader.readAsDataURL(file);\r\n            // FileReaderの読み込みを待って処理します。\r\n            fileReader.onload = async () => {\r\n                const url = fileReader.result;\r\n                // const result = await analyze(url);\r\n                // 画像データを保持するオブジェクトを作成します。\r\n                const photo = new PhotoData(file, url);\r\n                // 画像データの配列に追加します。\r\n                this.photoArray.push(photo);\r\n                // 画像データを名前順にソートします。\r\n                this.fileSort(this.photoArray);\r\n                // fileCountを加算します。\r\n                fileCount++;\r\n                // プログレスバーに値を設定します。\r\n                meter.val(fileCount / fileMax * 100);\r\n                meterText.text(`${fileCount} / ${fileMax} Complete`);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 画像データのソートを行ないまいます。\r\n     * @param array 画像データの配列\r\n     */\r\n    private fileSort(array: PhotoData[]): void {\r\n        array.sort(this.compareName);\r\n    }\r\n\r\n    /**\r\n     * 名前順で画像データの並び替えを行ないます。\r\n     * @param a 比較するデータ１\r\n     * @param b 比較するデータ２\r\n     */\r\n    private compareName(a: PhotoData, b: PhotoData): number {\r\n        if (a.getFileName() > b.getFileName()) {\r\n            return 1;\r\n        } else {\r\n            return -1;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 画像データ取得処理です。\r\n     * 使っていません。\r\n     */\r\n    public getPhotData(): Array<PhotoData> {\r\n        return this.photoArray;\r\n    }\r\n}","import { PhotoData } from \"./PhotoData\"\r\nimport { PhotoMode } from \"./PhotoMode\"\r\nimport { SlidshowToggleMenu } from \"./SlideShowToggleMenu\";\r\n\r\n/**\r\n * スライドショー管理クラスです。\r\n */\r\nexport class SlideShowManager {\r\n    private slidshowToggleMenu: SlidshowToggleMenu;\r\n    /** 画像表示エリアの要素 */\r\n    private photoAreaElemet: HTMLElement;\r\n    /** 画像データの配列 */\r\n    private photoArray: Array<PhotoData>;\r\n    /** 現在の画像番号 */\r\n    private photoCount: number;\r\n    /** インターバル処理 */\r\n    private interval: number = 0;\r\n    /** スライドショーのリセットフラグ */\r\n    public resetFlg = false;\r\n    /** スライドショーの終了フラグ */\r\n    private endFlg = false;\r\n    /** 画像の表示モードです。 */\r\n    public mode: PhotoMode = PhotoMode.NORMAL;\r\n    /** 画像の表示時間です。 */\r\n    public type: number = 5;\r\n    /** ロックフラグ */\r\n    private isLock: boolean = false;\r\n    /** 順序フラグ */\r\n    public isDefaultOrder: boolean = true;\r\n\r\n    /**\r\n     * コンストラクターです。\r\n     * @param element 画像表示エリアの要素\r\n     * @param array 画像データ一覧\r\n     */\r\n    constructor(element: HTMLElement, array: Array<PhotoData>) {\r\n        // メンバ変数の初期化をします。\r\n        this.photoAreaElemet = element;\r\n        this.photoArray = array;\r\n        this.photoCount = 0;\r\n        this.slidshowToggleMenu = new SlidshowToggleMenu(this);\r\n        this._addEventListener();\r\n    }\r\n\r\n    /**\r\n     * イベント登録処理です。\r\n     */\r\n    private _addEventListener(): void {\r\n        // 再生ボタン押下時にイベント登録。\r\n        $('#play').on('click', () => {\r\n            $('div.howtouse').hide();\r\n            this.changePhoto(this.type);\r\n        });\r\n\r\n        // 切り替えボタン押下時にイベント登録。\r\n        this.addChangeEventListener();\r\n\r\n        // キーボード操作イベント登録\r\n        this.addKeybordEventListener();\r\n\r\n        // マウスホイール操作イベント登録\r\n        this.addMousewheelEventListener();\r\n    }\r\n\r\n    /**\r\n     * 切り替えボタン押下時イベント登録。\r\n     */\r\n    private addChangeEventListener(): void {\r\n        // 表示切り替えボタン左が押されたら画像番号を前の画像に変更します。\r\n        $('#left-button').on('click', () =>{\r\n            if (!this.isLock) {\r\n                this.photoCount--;\r\n                this.photoCount--;\r\n                this.resetFlg = true;\r\n                this.changePhoto(this.type);\r\n            }\r\n        });\r\n        // 表示切り替えボタン次が押されたら画像番号を次の画像に変更します。\r\n        $('#right-button').on('click', () => {\r\n            if (!this.isLock) {\r\n                this.resetFlg = true;\r\n                this.changePhoto(this.type);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * キーボード操作イベント登録\r\n     */\r\n    private addKeybordEventListener(): void {\r\n        $(\"#background-image\").on('keydown', (e: JQuery.KeyDownEvent) => {\r\n            if (e.key === 'ArrowLeft') {\r\n                // 押されたキーが←キーの場合\r\n                if (!this.isLock) {\r\n                    this.photoCount--;\r\n                    this.photoCount--;\r\n                    // 画像変更\r\n                    this.resetFlg = true;\r\n                    this.changePhoto(this.type);\r\n                }\r\n            } else if (e.key === 'ArrowRight') {\r\n                // 押されたキーが→キーの場合\r\n                if (!this.isLock) {\r\n                    // 画像変更\r\n                    this.resetFlg = true;\r\n                    this.changePhoto(this.type);\r\n                }\r\n            } else if (e.key === 'ArrowDown') {\r\n                //  押されたキーが↓キーの場合(隠し要素)\r\n                this.isLock = this.isLock ? false : true;\r\n                if (this.isLock) {\r\n                    // ロック中のアイコンを作成する。\r\n                    const lockDiv = document.createElement('div');\r\n                    lockDiv.id = \"lock\";\r\n                    lockDiv.classList.add('locked');\r\n                    lockDiv.innerText = \"Locked\";\r\n                    $('#file-area').append(lockDiv);\r\n                } else {\r\n                    $('#lock').remove();\r\n                    // 画像変更\r\n                    this.resetFlg = true;\r\n                    this.changePhoto(this.type);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * マウスホイール操作の登録\r\n     */\r\n    private addMousewheelEventListener(): void {\r\n        $(\"#background-image\").on('mousewheel', (ev: any) => {\r\n            if (ev.wheelDelta > 0) {\r\n                // マウスホイールを上に回した場合\r\n                if (!this.isLock) {\r\n                    this.photoCount--;\r\n                    this.photoCount--;\r\n                    // 画像変更\r\n                    this.resetFlg = true;\r\n                    this.changePhoto(this.type);\r\n                }\r\n            } else {\r\n                // マウスホイールを下に回した場合\r\n                if (!this.isLock) {\r\n                    // 画像変更\r\n                    this.resetFlg = true;\r\n                    this.changePhoto(this.type);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * オブジェクトの破棄時にListenerも破棄する。\r\n     */\r\n    public destructor(): void {\r\n        // 再生ボタンのイベントを破棄します。\r\n        $('#play').off('click');\r\n        // 画像変更ボタン左のイベントを破棄します。\r\n        $('#left-button').off('click');\r\n        // 画像変更ボタン右のイベントを破棄します。\r\n        $('right-button').off('click');\r\n        // キーボードイベントを破棄します。\r\n        $(\"#background-image\").off('keydown');\r\n        // マウスホイールイベントを破棄します。\r\n        $(\"#background-image\").off('mousewheel');\r\n        // スライドショーを停止します。\r\n        this.endFlg = true;\r\n        this.changePhoto(this.type);\r\n        // トグルメニューのイベントを破棄します。\r\n        this.slidshowToggleMenu.destructor();\r\n    }\r\n\r\n    /**\r\n     * 画像変更イベント処理です。\r\n     * @param sec 待機秒数\r\n     */\r\n    public changePhoto(sec: number): void {\r\n        if (this.resetFlg) {\r\n            // スライドショーのリセットフラグがtrueの場合、タイマーをリセットします。\r\n            clearInterval(this.interval);\r\n            this.resetFlg = false;\r\n        } else if (this.endFlg) {\r\n            // スライドショーの終了フラグがtrueの場合、タイマーをリセットしてスライドショーを終了します。\r\n            clearInterval(this.interval);\r\n            this.endFlg = false;\r\n            return;\r\n        }\r\n        // 初回の画像表示処理を呼び出します。\r\n        this.changePhotoWrap();\r\n        // 引数sec秒ごとに処理を実行します。\r\n        this.interval = setInterval(() => {\r\n            this.changePhotoWrap();\r\n        }, sec * 1000);\r\n    }\r\n\r\n    /**\r\n     * 画像表示処理のラッパーです。\r\n     */\r\n    private changePhotoWrap() {\r\n        // 画像番号の管理\r\n        this.countLoop();\r\n        // 現在の画像番号を基に配列から画像オブジェクトを取り出します。\r\n        const photo = this.photoArray[this.photoCount];\r\n        // 画像表示エリアを一旦空にします。\r\n        $(this.photoAreaElemet).empty();\r\n        // 画像を背景部に設定します。\r\n        $(\"#background-image\").css({\r\n            'background-image': `url(${photo.getFIlePath()})`,\r\n        });\r\n        // 画像表示モード毎に処理を振り分けます。\r\n        switch (this.mode) {\r\n            case PhotoMode.NORMAL:\r\n                this.changeByHeight(photo);\r\n                break;\r\n            case PhotoMode.ZOOMOUT:\r\n                this.changeByMoving(photo);\r\n                break;\r\n            case PhotoMode.SLIDEIN:\r\n                this.changeByMoving(photo);\r\n                break;\r\n            default:\r\n                // 何も処理しない\r\n                break;\r\n        }\r\n        if (!this.isLock) {\r\n            if (!this.isDefaultOrder) {\r\n                // ランダム順ならランダムな値を返します。\r\n                this.photoCount = Math.floor(Math.random() * this.photoArray.length);\r\n            } else {\r\n                // 画像番号を加算します。\r\n                this.photoCount++;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * ウインドウの高さに合わせて画像を表示する処理です。\r\n     * 本当にただ表示するだけ。\r\n     * @param photo 画像データ\r\n     */\r\n    private changeByHeight(photo: PhotoData): void {\r\n        // 画像表示エリアに画像を中央に表示するプロパティを付与します。\r\n        $(this.photoAreaElemet).css({ \"text-align\": \"center\" });\r\n        // 画像表示エリアの範囲を取得します。\r\n        // JQuery型で高さなどの値を取得するとundifinedのチェックを求められるのがウザいのでHTMLElementで取得します。\r\n        const areaHeight = this.photoAreaElemet.clientHeight;\r\n        const areaWidth = this.photoAreaElemet.clientWidth;\r\n        // 画像のプロパティを取得します。\r\n        const url = photo.getFIlePath();\r\n        // 画像の要素を作成します。\r\n        // 画像にstyleを適用するためにphotoをclass属性に設定しています。\r\n        const element = $('<img>').addClass('photo').attr('src', url);\r\n        // 画像のサイズを取得します。\r\n        const size = this.calculation(photo, areaHeight, 0);\r\n        // 表示エリアの高さに画像を縮小して表示します。\r\n        element.width(`${size['photoX']}px`);\r\n        element.height(`${size['photoY']}px`);\r\n        if (size['photoY'] < size['photoX'] && size['photoY'] < areaHeight) {\r\n            element.css({ \"margin-top\": `${(areaHeight - size['photoY']) / 2}px` });\r\n        }\r\n        if (areaWidth < size['photoX']) {\r\n            // 表示エリアの横幅よりも画像の横幅が大きい場合には画像の幅を基準にサイズを調整します。\r\n            // 画像のサイズを取得します。\r\n            const reSize = this.calculation(photo, 0, areaWidth);\r\n            // 表示エリアの高さに画像を縮小して表示します。\r\n            element.width(`${reSize['photoX']}px`);\r\n            element.height(`${reSize['photoY']}px`);\r\n            if (reSize['photoY'] < reSize['photoX'] && reSize['photoY'] < areaHeight) {\r\n                // 上と同じ理由\r\n                element.css({ \"margin-top\": `${(areaHeight - reSize['photoY']) / 2}px` });\r\n            }\r\n        }\r\n        // 画像表示エリアに作成した画像要素を追加します。\r\n        $(this.photoAreaElemet).append(element);\r\n        // フェードインのアニメーションを追加したいのでanimation-fadeinをclass属性に追加します。\r\n        element.addClass(\"animation-fadein\");\r\n        element.css({ \"animation-duration\": `${this.type}s` });\r\n    }\r\n\r\n    /**\r\n     * 表示する画像がアニメーションする処理です。\r\n     * @param photo 画像データ\r\n     */\r\n    private changeByMoving(photo: PhotoData): void {\r\n        // 画像がposition:abusoluteになるので親要素の画像表示エリアはrelativeを設定すること\r\n        $(this.photoAreaElemet).css({ \"position\": \"relative\" });\r\n        // 画像表示エリアの範囲を取得します。\r\n        const areaHeight = $(this.photoAreaElemet).height();\r\n        const areaWidth = $(this.photoAreaElemet).width();\r\n        // 画像のプロパティを取得します。\r\n        const url = photo.getFIlePath();\r\n        const photoWidth = photo.getXsize();\r\n        const photoHeight = photo.getYsize();\r\n        // 画像の要素を作成します。\r\n        // 画像にstyleを適用するためにphotoをclass属性に設定しています。\r\n        const element = $('<img>').addClass('photo').attr('src', url);\r\n        if (photoWidth < photoHeight) {\r\n            // 縦長画像の場合\r\n            if (areaHeight && areaWidth) {\r\n                // 画像のサイズを取得します。\r\n                const size = this.calculation(photo, 0, areaWidth);\r\n                // 画像の幅を設定します。\r\n                element.width(`${size['photoX']}px`);\r\n                // ランダムで遊ぶ\r\n                const random = Math.floor(Math.random() * 11);\r\n                if (5 < random) {\r\n                    // ここでは下からスライドして画像全体を表示するアニメーションを設定します。\r\n                    // 画像をアニメションするために画像のスタイルを個別に設定します。\r\n                    element.css({\r\n                        // 画像は絶対位置で配置します。\r\n                        \"position\": \"absolute\",\r\n                        // TOPを親要素の高さから画像の高さ分引いたマイナス位置に配置します。\r\n                        // これにより親要素のbottomと画像のbottomが同じ位置になります。\r\n                        // アニメーションによりTOPが0pxになるまで移動させるので画像が下方向にスライドして表示されます。\r\n                        // これを思いついたときは天才かと思った。午前４時現在\r\n                        \"left\": \"0px\",\r\n                        \"top\": `${areaHeight - size['photoY']}px`,\r\n                    });\r\n                    // 画像を下方向にスクロールするアニメーションを付与します。\r\n                    element.addClass(\"animation-moveDown\");\r\n                    element.css({ \"animation-duration\": this.type + \"s\" });\r\n                } else {\r\n                    // ここでは上からスライドして画像全体を表示するアニメーションを設定します。\r\n                    // 画像をアニメションするために画像のスタイルを個別に設定します。\r\n                    element.css({\r\n                        // 画像は絶対位置で配置します。\r\n                        \"position\": \"absolute\",\r\n                        // BOTTOMを親要素の高さから画像の高さ分引いたマイナス位置に配置します。\r\n                        // これにより親要素のtopと画像のtopが同じ位置になります。\r\n                        // アニメーションによりBOTTOMが0pxになるまで移動させるので画像が上方向にスライドして表示されます。\r\n                        \"left\": \"0px\",\r\n                        \"bottom\": `${areaHeight - size['photoY']}px`,\r\n                    });\r\n                    // 画像を上方向にスクロールするアニメーションを付与します。\r\n                    element.addClass(\"animation-moveUp\");\r\n                    element.css({ \"animation-duration\": this.type + \"s\" });\r\n                }\r\n            } else {\r\n                // 100%でもサイズは合うがあえて数値を設定する。\r\n                element.height(`${areaHeight}px`);\r\n            }\r\n        } else {\r\n            // 横長画像の場合\r\n            if (areaHeight && areaWidth) {\r\n                // ここでは画像をウインドウの２倍の大きさで表示した後、等倍に縮小するアニメーションを設定します。\r\n                // 画像のサイズを取得します。\r\n                const size = this.calculation(photo, areaHeight * 2, 0);\r\n                // 画像の高さを設定します。\r\n                element.height(`${size['photoY']}px`);\r\n                // 画像をアニメションするために画像のスタイルを個別に設定します。\r\n                element.css({\r\n                    // 画像は絶対位置で配置します。\r\n                    \"position\": \"absolute\",\r\n                    // アニメーションさせた際の原点を中央に設定します。\r\n                    \"transform-origin\": \"center\",\r\n                    // 親要素の中央に配置したいので計算しています。\r\n                    // ここでのleftとtopは画像要素の左上の位置でtransform-originの原点位置ではないのに注意。\r\n                    \"left\": `${(areaWidth / 2) - (size['photoX'] / 2)}px`,\r\n                    \"top\": `${(areaHeight / 2) - (size['photoY'] / 2)}px`,\r\n                });\r\n                // 画像のサイズを1/2に縮小するアニメーションを付与する。\r\n                element.addClass(\"animation-scale\");\r\n                element.css({ \"animation-duration\": this.type + \"s\" });\r\n            } else {\r\n                // 100%でもサイズは合うがあえて数値を設定する。\r\n                element.height(`${areaHeight}px`);\r\n            }\r\n        }\r\n        // 画像表示エリアに作成した画像要素を追加します。\r\n        $(this.photoAreaElemet).append(element);\r\n        // フェードインのアニメーションを追加したいのでanimation-fadeinをclass属性に追加します。\r\n        element.addClass(\"animation-fadein\");\r\n        element.css({ \"animation-duration\": this.type + \"s\" });\r\n    }\r\n\r\n    /**\r\n     * 画像番号を管理します。\r\n     */\r\n    private countLoop(): void {\r\n        if (this.photoCount < 0) {\r\n            // 0より小さい場合、最後尾に移動します。\r\n            this.photoCount = this.photoArray.length - 1;\r\n        } else if (this.photoArray.length <= this.photoCount) {\r\n            // 範囲外ならカウントをリセットします。\r\n            this.photoCount = 0;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 画像のサイズを計算します。\r\n     * 設定する高さもしくは横幅に応じて、もう片方の数値を算出します。\r\n     * @param photo 画像データ\r\n     * @param height 画像の高さ（widthを設定する場合、0を指定してください）\r\n     * @param width 画像の横幅（heightを設定する場合、0を指定してください）\r\n     * @return 画像サイズを取得する連想配列\r\n     */\r\n    private calculation(photo: PhotoData, height: number, width: number): { [key: string]: number } {\r\n        let size: { [key: string]: number } = {};\r\n        if (0 < height) {\r\n            // 高さを基に計算する場合\r\n            size['photoY'] = height;\r\n            const percent = height / photo.getYsize();\r\n            size['photoX'] = photo.getXsize() * percent;\r\n        } else if (0 < width) {\r\n            // 横幅を基に計算する場合\r\n            size['photoX'] = width;\r\n            const percent = width / photo.getXsize();\r\n            size['photoY'] = photo.getYsize() * percent;\r\n        } else {\r\n            // どちらも設定されている場合\r\n            // メソッドの使い方的に例外を吐き出すべき？IllegalArgumentException的な\r\n            size['photoY'] = height;\r\n            size['photoX'] = width;\r\n        }\r\n        return size;\r\n    }\r\n}","/**\r\n * 再生ボタン機能クラスです。\r\n * 他のクラスでこのクラスを呼び出したいのでexportを付けています。\r\n */\r\nexport class SlideShowPlayer {\r\n    /** 再生機能を設定するボタンの要素 */\r\n    private button: HTMLElement;\r\n\r\n    /**\r\n     * コンストラクターです。\r\n     * インスタンス生成時に呼ばれます。\r\n     * @param element 再生ボタンの要素\r\n     */\r\n    constructor(element: HTMLElement) {\r\n        this.button = element;\r\n        // 初期表示時はボタンを非活性にします。\r\n        $(this.button).prop('disabled', true);\r\n        // 初期表示時は画像切り替えボタンを非表示にします。\r\n        $('#left-side').css({ \"display\": \"none\" });\r\n        $('#right-side').css({ \"display\": \"none\" });\r\n        // イベント登録処理を呼び出します。\r\n        this._addEventListener();\r\n    }\r\n\r\n    /**\r\n     * イベント登録処理\r\n     * jQueryのon関数を使用してイベント登録しています。\r\n     * javascriptのaddEventLister関数と違ってイベント重複登録されてしまうので注意です。\r\n     * 必要であればoff関数でイベントを破棄しましょう。\r\n     * 戻り値はないのでvoidです。\r\n     */\r\n    private _addEventListener(): void {\r\n        // アロー関数を使ってます。引数使わないので()です。function(){}でも良いです。\r\n        $('#file').on('change', (ev: any) => {\r\n            if (ev.target.files.length > 0) {\r\n                // 読み込みファイルがある場合\r\n                // ファイルダイアログ部品に変更があった場合に再生ボタンを活性に切り替えます。\r\n                $(this.button).prop('disabled', false);\r\n                // ファイルダイアログ部品に変更があった場合に画像切り替えボタンを非表示にします。\r\n                $('#left-side').css({ \"display\": \"none\" });\r\n                $('#right-side').css({ \"display\": \"none\" });\r\n            }\r\n        });\r\n\r\n        $('#play').on('click', () => {\r\n            // 再生ボタンが押されたときにボタンを非活性にします。\r\n            $(this.button).prop('disabled', true);\r\n            // 画像切り替えボタンを表示にします。\r\n            $('#left-side').css({ \"display\": \"block\" });\r\n            $('#right-side').css({ \"display\": \"block\" });\r\n        })\r\n    }\r\n}","import { SlideShowManager } from \"./SlideShowManager\";\r\nimport { PhotoMode } from \"./PhotoMode\";\r\n/**\r\n * トグルメニュー作成クラスです。\r\n */\r\nexport class SlidshowToggleMenu {\r\n    /** スライドショー管理クラス */\r\n    private slideShowManager: SlideShowManager;\r\n\r\n    /**\r\n     * コンストラクターです。\r\n     * @param element 画像表示エリアの要素\r\n     */\r\n    constructor(slideShowManager: SlideShowManager) {\r\n        // メンバ変数の初期化をします。\r\n        this.slideShowManager = slideShowManager;\r\n        // トグルメニューを作成します。\r\n        this.menuInit();\r\n        // イベント登録します。\r\n        this.addTogglemenuEventListener();\r\n    }\r\n\r\n    /**\r\n     * トグルメニューの作成\r\n     */\r\n    private menuInit(): void {\r\n        // トグルメニュー外枠作成\r\n        const menuDiv = $('<div></div>');\r\n        menuDiv.attr({\r\n            id: \"contextmenu\",\r\n            class: \"menu\"\r\n        });\r\n        // トグルメニュータイトル\r\n        const titleDiv = $('<div></div>');\r\n        titleDiv.attr(\"id\", \"menu-title\");\r\n        titleDiv.text(\"Settings\");\r\n        menuDiv.append(titleDiv);\r\n        const hr = $('<hr>');\r\n        menuDiv.append(hr);\r\n        // モード\r\n        const modeDiv = $('<div></div>');\r\n        modeDiv.attr(\"id\", \"mode\");\r\n        // モードタイトル\r\n        const modeTitleDiv = $('<div></div>');\r\n        modeTitleDiv.attr({ id: \"menu-subtitle\", class: \"menu-subtitle\" });\r\n        modeTitleDiv.text(\"Mode:\");\r\n        modeDiv.append(modeTitleDiv);\r\n        // モード「通常」項目作成\r\n        const normalDiv = $('<div></div>');\r\n        normalDiv.attr({ id: \"normal-mode\", class: \"menu-item\" });\r\n        const normalRadio = $('<input/>');\r\n        normalRadio.attr({\r\n            id: \"normal\",\r\n            type: \"radio\",\r\n            name: \"mode\",\r\n        });\r\n        normalRadio.prop(\"checked\", true);\r\n        normalDiv.append(normalRadio);\r\n        const normalLabel = $('<label></label>');\r\n        normalLabel.attr(\"for\", \"normal\");\r\n        normalLabel.text(\"Normal\");\r\n        normalDiv.append(normalLabel);\r\n        modeDiv.append(normalDiv);\r\n        // モード「ズームアウト」項目作成\r\n        const zoomoutDiv = $('<div></div>');\r\n        zoomoutDiv.attr({ id: \"zoomout-mode\", class: \"menu-item\" });\r\n        const zoomoutRadio = $('<input/>');\r\n        zoomoutRadio.attr({\r\n            id: \"zoomout\",\r\n            type: \"radio\",\r\n            name: \"mode\",\r\n        });\r\n        zoomoutDiv.append(zoomoutRadio);\r\n        const zoomoutLabel = $('<label></label>');\r\n        zoomoutLabel.attr(\"for\", \"zoomout\");\r\n        zoomoutLabel.text(\"ZoomOut\");\r\n        zoomoutDiv.append(zoomoutLabel);\r\n        modeDiv.append(zoomoutDiv);\r\n        // モード「スライドイン」項目作成\r\n        const slideinDiv = $('<div></div>');\r\n        slideinDiv.attr({ id: \"slidein-mode\", class: \"menu-item\" });\r\n        const slideinRadio = $('<input/>');\r\n        slideinRadio.attr({\r\n            id: \"slidein\",\r\n            type: \"radio\",\r\n            name: \"mode\",\r\n        });\r\n        slideinDiv.append(slideinRadio);\r\n        const slideinLabel = $('<label></label>');\r\n        slideinLabel.attr(\"for\", \"slidein\");\r\n        slideinLabel.text(\"SlideIn\");\r\n        slideinDiv.append(slideinLabel);\r\n        modeDiv.append(slideinDiv);\r\n        menuDiv.append(modeDiv);\r\n        // 時間\r\n        const timeDiv = $('<div></div>');\r\n        timeDiv.attr(\"id\", \"time\");\r\n        // 時間タイトル\r\n        const timeTitleDiv = $('<div></div>');\r\n        timeTitleDiv.attr({ id: \"time-subtitle\", class: \"menu-subtitle\" });\r\n        timeTitleDiv.text(\"Time:\");\r\n        timeDiv.append(timeTitleDiv);\r\n        //「３秒」項目作成\r\n        const sec3Div = $('<div></div>');\r\n        sec3Div.attr({ id: \"sec3-time\", class: \"menu-item\" });\r\n        const sec3Radio = $('<input/>');\r\n        sec3Radio.attr({\r\n            id: \"sec3\",\r\n            type: \"radio\",\r\n            name: \"time\",\r\n        });\r\n        sec3Div.append(sec3Radio);\r\n        const sec3Label = $('<label></label>');\r\n        sec3Label.attr(\"for\", \"sec3\");\r\n        sec3Label.text(\"3s\");\r\n        sec3Div.append(sec3Label);\r\n        timeDiv.append(sec3Div);\r\n        //「５秒」項目作成\r\n        const sec5Div = $('<div></div>');\r\n        sec5Div.attr({ id: \"sec5-time\", class: \"menu-item\" });\r\n        const sec5Radio = $('<input/>');\r\n        sec5Radio.attr({\r\n            id: \"sec5\",\r\n            type: \"radio\",\r\n            name: \"time\",\r\n        });\r\n        sec5Radio.prop(\"checked\", true);\r\n        sec5Div.append(sec5Radio);\r\n        const sec5Label = $('<label></label>');\r\n        sec5Label.attr(\"for\", \"sec5\");\r\n        sec5Label.text(\"5s\");\r\n        sec5Div.append(sec5Label);\r\n        timeDiv.append(sec5Div);\r\n        //「１０秒」項目作成\r\n        const sec10Div = $('<div></div>');\r\n        sec10Div.attr({ id: \"sec10-time\", class: \"menu-item\" });\r\n        const sec10Radio = $('<input/>');\r\n        sec10Radio.attr({\r\n            id: \"sec10\",\r\n            type: \"radio\",\r\n            name: \"time\",\r\n        });\r\n        sec10Div.append(sec10Radio);\r\n        const sec10Label = $('<label></label>');\r\n        sec10Label.attr(\"for\", \"sec10\");\r\n        sec10Label.text(\"10s\");\r\n        sec10Div.append(sec10Label);\r\n        timeDiv.append(sec10Div);\r\n        menuDiv.append(timeDiv);\r\n        // 順番\r\n        const orderDiv = $('<div></div>');\r\n        orderDiv.attr(\"id\", \"order\");\r\n        // 順番タイトル\r\n        const orderTitleDiv = $('<div></div>');\r\n        orderTitleDiv.attr({ id: \"order-subtitle\", class: \"menu-subtitle\" });\r\n        orderTitleDiv.text(\"Order:\");\r\n        orderDiv.append(orderTitleDiv);\r\n        // 「名前順」項目作成\r\n        const defaultOrderDiv = $('<div></div>');\r\n        defaultOrderDiv.attr({ id: \"default-order\", class: \"menu-item\" });\r\n        const defaultOrderRadio = $('<input/>');\r\n        defaultOrderRadio.attr({\r\n            id: \"default\",\r\n            type: \"radio\",\r\n            name: \"order\",\r\n        });\r\n        defaultOrderRadio.prop(\"checked\", true);\r\n        defaultOrderDiv.append(defaultOrderRadio);\r\n        const defaultOrderLabel = $('<label></label>');\r\n        defaultOrderLabel.attr(\"for\", \"default\");\r\n        defaultOrderLabel.text(\"ByName\");\r\n        defaultOrderDiv.append(defaultOrderLabel);\r\n        orderDiv.append(defaultOrderDiv);\r\n        // 「ランダム順」項目作成\r\n        const randomOrderDiv = $('<div></div>');\r\n        randomOrderDiv.attr({ id: \"random-order\", class: \"menu-item\" });\r\n        const randomOrderRadio = $('<input/>');\r\n        randomOrderRadio.attr({\r\n            id: \"random\",\r\n            type: \"radio\",\r\n            name: \"order\",\r\n        });\r\n        randomOrderDiv.append(randomOrderRadio);\r\n        const randomOrderLabel = $('<label></label>');\r\n        randomOrderLabel.attr(\"for\", \"random\");\r\n        randomOrderLabel.text(\"ByRandom\");\r\n        randomOrderDiv.append(randomOrderLabel);\r\n        orderDiv.append(randomOrderDiv);\r\n        menuDiv.append(orderDiv);\r\n        // 画像表示エリアの親要素に追加\r\n        $('.setting-area').append(menuDiv);\r\n    }\r\n\r\n    /**\r\n     * トグルメニューの登録\r\n     */\r\n    private addTogglemenuEventListener(): void {\r\n        $('#setting').on('click', () => {\r\n            $('#contextmenu').slideToggle();\r\n            $('#contextmenu').toggleClass('active');\r\n            // 「通常」が押されたら表示モードを通常に変更\r\n            this.modeAddEvent($(\"#normal\"), PhotoMode.NORMAL);\r\n\r\n            // 「ズームアウト」が押されたら表示モードを効果に変更\r\n            this.modeAddEvent($(\"#zoomout\"), PhotoMode.ZOOMOUT);\r\n\r\n            // 「スライドイン」が押されたら表示モードを効果に変更\r\n            this.modeAddEvent($(\"#slidein\"), PhotoMode.SLIDEIN);\r\n\r\n            // 「３秒」が押されたら表示時間を３秒に変更\r\n            this.typeAddEvent($(\"#sec3\"), 3);\r\n\r\n            // 「５秒」が押されたら表示時間を５秒に変更\r\n            this.typeAddEvent($(\"#sec5\"), 5);\r\n\r\n            // 「１０秒」が押されたら表示時間を１０秒に変更\r\n            this.typeAddEvent($(\"#sec10\"), 10);\r\n\r\n            // 「名前順」が押されたら表示順を通常順に変更\r\n            this.orderAddEvent($(\"#default\"), true);\r\n\r\n            // 「ランダム順」が押されたら表示順をランダム順に変更\r\n            this.orderAddEvent($(\"#random\"), false);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * オブジェクトの破棄時にListenerも破棄する。\r\n     */\r\n    public destructor(): void {\r\n        $('#setting').off('click');\r\n        $(\"#zoomout\").off('change');\r\n        $(\"#slidein\").off('change');\r\n        $(\"#sec3\").off('change');\r\n        $(\"#sec5\").off('change');\r\n        $(\"#sec10\").off('change');\r\n        $(\"#default\").off('change');\r\n        $(\"#random\").off('change');\r\n    }\r\n\r\n    /**\r\n     * トグルメニューの項目に画像表示モード切り替えイベントを登録します。\r\n     * @param $elem 対象の要素\r\n     * @param mode 画像表示モード\r\n     */\r\n    private modeAddEvent($elem: JQuery, mode: PhotoMode): void {\r\n        // 自分自身の要素にchangeイベントを登録します。\r\n        $elem.on('change', () => {\r\n            this.slideShowManager.mode = mode;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * トグルメニューの項目に表示秒数切り替えイベントを登録します。\r\n     * @param $elem 対象の要素\r\n     * @param sec 秒数\r\n     */\r\n    private typeAddEvent($elem: JQuery, sec: number): void {\r\n        // 自分自身の要素にchangeイベントを登録します。\r\n        $elem.on('change', () => {\r\n            this.slideShowManager.type = sec;\r\n            this.slideShowManager.resetFlg = true;\r\n            this.slideShowManager.changePhoto(this.slideShowManager.type);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * トグルメニューの項目に表示順切り替えイベントを登録します。\r\n     * @param $elem 対象の要素\r\n     * @param flg 切り替えフラグtrue:通常順 false:ランダム順 \r\n     */\r\n    private orderAddEvent($elem: JQuery, flg: boolean): void {\r\n        // 自分自身の要素にchangeイベントを登録します。\r\n        $elem.on('change', () => {\r\n            this.slideShowManager.isDefaultOrder = flg;\r\n        });\r\n    }\r\n}","import { SlideShowFileReader } from \"./SlideShowFileReader\"\r\nimport { SlideShowPlayer } from \"./SlideShowPlayer\"\r\n\r\n/**\r\n * Windows風スライドショーのメインクラスです。\r\n * 各画面部品の呼び出しを担当します。\r\n * スクリプトはHTMLのbody部最後で呼ばれます＝DOMの生成が完了しています。\r\n */\r\nclass Main {\r\n    /**\r\n     * メインメソッドです。\r\n     * HTMLの要素からサイズなどの情報を取得して、\r\n     * 各機能に対するクラスの呼び出しを行ないます。\r\n     */\r\n    public main() {\r\n        // ファイル操作エリアを取得\r\n        const $fileArea: JQuery = $('#file-area');\r\n        // 画像表示エリアを取得\r\n        const $photoArea: JQuery = $('#photo-area');\r\n\r\n        /*\r\n         * 画面の構成要素を動的に決定します。\r\n         */\r\n        this.setDisplaySize($fileArea, $photoArea);\r\n        // 画面サイズが変更された場合\r\n        $(window).on('resize', () => {\r\n            this.setDisplaySize($fileArea, $photoArea);\r\n        });\r\n\r\n        // ファイル読み込み機能の呼び出し\r\n        new SlideShowFileReader($('#file')[0], $photoArea[0]);\r\n        // 再生ボタン機能の呼び出し\r\n        new SlideShowPlayer($('#play')[0]);\r\n    }\r\n\r\n    /**\r\n     * 画面のサイズを動的に設定します。\r\n     * @param $fileArea ファイル操作エリア\r\n     * @param $photoArea 画像表示エリア\r\n     */\r\n    private setDisplaySize($fileArea: JQuery, $photoArea: JQuery): void {\r\n        // ブラウザのサイズを取得\r\n        const windowH = $(window).height();\r\n        const windowW = $(window).width();\r\n        const fileAreaH = $fileArea.height();\r\n        if (windowH && windowW && fileAreaH) {\r\n            // 画像表示エリアの高さを設定します。\r\n            $photoArea.css({\r\n                'max-height': `${windowH - fileAreaH - 50}px`,\r\n                'height': `${windowH - fileAreaH - 50}px`\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n// メイン処理を起動\r\nnew Main().main();"],"sourceRoot":""}